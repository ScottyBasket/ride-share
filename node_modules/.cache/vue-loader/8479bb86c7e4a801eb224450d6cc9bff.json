{"remainingRequest":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/herschel/my-new-module/GitGroupWork/ride-share/src/pages/Vehicles.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/src/pages/Vehicles.vue","mtime":1652853139706},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/cache-loader/dist/cjs.js","mtime":1652435181076},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/babel-loader/lib/index.js","mtime":1652435180918},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/vuetify-loader/lib/loader.js","mtime":1652435186114},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/cache-loader/dist/cjs.js","mtime":1652435181076},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/vue-loader/lib/index.js","mtime":1652435186009}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVmVoaWNsZXMiLAoKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYWRlcnM6IFsKICAgICAgICB7IHRleHQ6ICJNYWtlIiwgdmFsdWU6ICJtYWtlIiB9LAogICAgICAgIHsgdGV4dDogIk1vZGVsIiwgdmFsdWU6ICJtb2RlbCIgfSwKICAgICAgICB7IHRleHQ6ICJDb2xvciIsIHZhbHVlOiAiY29sb3IiIH0sCiAgICAgICAgeyB0ZXh0OiAiQ2FwYWNpdHkiLCB2YWx1ZTogImNhcGFjaXR5IiB9LAogICAgICAgIHsgdGV4dDogIk1QRyIsIHZhbHVlOiAibXBnIiB9LAogICAgICAgIHsgdGV4dDogIkxpY2VuY2UgUGxhdGUiLCB2YWx1ZTogImxpY2Vuc2VQbGF0ZSIgfSwKICAgICAgICB7IHRleHQ6ICJBY3Rpb24iLCB2YWx1ZTogImFjdGlvbiIgfQogICAgICBdLAogICAgICB2ZWhpY2xlczogW10sCgogICAgICBzbmFja2JhcjogewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIHRleHQ6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKCiAgbW91bnRlZDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLiRheGlvcy5nZXQoIi92ZWhpY2xlcyIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB0aGlzLnZlaGljbGVzID0gcmVzcG9uc2UuZGF0YS5tYXAodmVoaWNsZXMgPT4gKHsKICAgICAgICBpZDogdmVoaWNsZXMuaWQsCiAgICAgICAgbWFrZTogdmVoaWNsZXMubWFrZSwKICAgICAgICBtb2RlbDogdmVoaWNsZXMubW9kZWwsCiAgICAgICAgY29sb3I6IHZlaGljbGVzLmNvbG9yLAogICAgICAgIGNhcGFjaXR5OiB2ZWhpY2xlcy5jYXBhY2l0eSwKICAgICAgICBtcGc6IHZlaGljbGVzLm1wZywKICAgICAgICBsaWNlbnNlUGxhdGU6IHZlaGljbGVzLmxpY2Vuc2VQbGF0ZSwKICAgICAgfSkpOwogICAgfSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgLy8gRGlzcGxheSBhIHNuYWNrYmFyIG1lc3NhZ2UuCiAgICBzaG93U25hY2tiYXIodGV4dCkgewogICAgICB0aGlzLnNuYWNrYmFyLnRleHQgPSB0ZXh0OwogICAgICB0aGlzLnNuYWNrYmFyLnNob3cgPSB0cnVlOwogICAgfSwKCiAgICAvLyBDYWxjdWxhdGUgdGhlIENTUyBjbGFzcyBmb3IgYW4gaXRlbQogICAgaXRlbUNsYXNzKGl0ZW0pIHsKICAgICAgY29uc3QgY3VycmVudFZlaGljbGUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50VmVoaWNsZTsKICAgICAgaWYgKGN1cnJlbnRWZWhpY2xlICYmIGN1cnJlbnRWZWhpY2xlLmlkID09PSBpdGVtLmlkKSB7CiAgICAgICAgcmV0dXJuICJjdXJyZW50VmVoaWNsZSI7CiAgICAgIH0KICAgIH0sCgogICAgLy8gVXBkYXRlIHZlaGljbGUgaW5mb3JtYXRpb24uCiAgICB1cGRhdGVWZWhpY2xlKGl0ZW0pIHsKICAgICAgY29uc29sZS5sb2coIlVQREFURSIsIEpTT04uc3RyaW5naWZ5KGl0ZW0sIG51bGwsIDIpKTsKICAgICAgdGhpcy5zaG93U25hY2tiYXIoIlNvcnJ5LCB1cGRhdGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZC4iKTsKICAgIH0sCgogICAgLy8gRGVsZXRlIGEgdmVoaWNsZS4KICAgIGRlbGV0ZVZlaGljbGUoaXRlbSkgewogICAgICB0aGlzLiRheGlvcy5kZWxldGUoYC92ZWhpY2xlcy8ke2l0ZW0uaWR9YCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEub2spIHsKICAgICAgICAgIC8vIFRoZSBkZWxldGUgb3BlcmF0aW9uIHdvcmtlZCBvbiB0aGUgc2VydmVyOyBkZWxldGUgdGhlIGxvY2FsIHZlaGljbGUKICAgICAgICAgIC8vIGJ5IGZpbHRlcmluZyB0aGUgZGVsZXRlZCB2ZWhpY2xlIGZyb20gdGhlIGxpc3Qgb2YgdmVoaWNsZXMuCiAgICAgICAgICB0aGlzLnZlaGljbGVzID0gdGhpcy52ZWhpY2xlcy5maWx0ZXIoCiAgICAgICAgICAgIHZlaGljbGVzID0+IHZlaGljbGVzLmlkICE9PSBpdGVtLmlkCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Vehicles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Vehicles.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <v-container>\n    <div>\n      <h4 class=\"display-1\">Vehicles</h4>\n\n      <v-data-table\n        class=\"elevation-1\"\n        v-bind:headers=\"headers\"\n        v-bind:items=\"vehicles\"\n      >\n        <template v-slot:item=\"{ item }\">\n          <tr v-bind:class=\"itemClass(item)\">\n            <td>{{ item.make }}</td>\n            <td>{{ item.model }}</td>\n            <td>{{ item.color }}</td>\n            <td>{{ item.capacity }}</td>\n            <td>{{ item.mpg }}</td>\n            <td>{{ item.licensePlate }}</td>\n            <td>\n              <v-icon small @click=\"deleteVehicle(item)\">\n                mdi-delete\n              </v-icon>\n              <v-icon small class=\"ml-2\" @click=\"updateVehicle(item)\">\n                mdi-pencil\n              </v-icon>\n            </td>\n          </tr>\n        </template>\n      </v-data-table>\n\n      <v-snackbar v-model=\"snackbar.show\">\n        {{ snackbar.text }}\n        <v-btn color=\"blue\" text @click=\"snackbar.show = false\">\n          Close\n        </v-btn>\n      </v-snackbar>\n    </div>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: \"Vehicles\",\n\n  data: function() {\n    return {\n      headers: [\n        { text: \"Make\", value: \"make\" },\n        { text: \"Model\", value: \"model\" },\n        { text: \"Color\", value: \"color\" },\n        { text: \"Capacity\", value: \"capacity\" },\n        { text: \"MPG\", value: \"mpg\" },\n        { text: \"Licence Plate\", value: \"licensePlate\" },\n        { text: \"Action\", value: \"action\" }\n      ],\n      vehicles: [],\n\n      snackbar: {\n        show: false,\n        text: \"\"\n      }\n    };\n  },\n\n  mounted: function() {\n    this.$axios.get(\"/vehicles\").then(response => {\n      this.vehicles = response.data.map(vehicles => ({\n        id: vehicles.id,\n        make: vehicles.make,\n        model: vehicles.model,\n        color: vehicles.color,\n        capacity: vehicles.capacity,\n        mpg: vehicles.mpg,\n        licensePlate: vehicles.licensePlate,\n      }));\n    });\n  },\n\n  methods: {\n    // Display a snackbar message.\n    showSnackbar(text) {\n      this.snackbar.text = text;\n      this.snackbar.show = true;\n    },\n\n    // Calculate the CSS class for an item\n    itemClass(item) {\n      const currentVehicle = this.$store.state.currentVehicle;\n      if (currentVehicle && currentVehicle.id === item.id) {\n        return \"currentVehicle\";\n      }\n    },\n\n    // Update vehicle information.\n    updateVehicle(item) {\n      console.log(\"UPDATE\", JSON.stringify(item, null, 2));\n      this.showSnackbar(\"Sorry, update is not yet implemented.\");\n    },\n\n    // Delete a vehicle.\n    deleteVehicle(item) {\n      this.$axios.delete(`/vehicles/${item.id}`).then(response => {\n        if (response.data.ok) {\n          // The delete operation worked on the server; delete the local vehicle\n          // by filtering the deleted vehicle from the list of vehicles.\n          this.vehicles = this.vehicles.filter(\n            vehicles => vehicles.id !== item.id\n          );\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style>\n.currentVehicle {\n  background: lightcoral;\n}\n</style>\n"]}]}