{"remainingRequest":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/herschel/my-new-module/GitGroupWork/ride-share/src/pages/Passengers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/src/pages/Passengers.vue","mtime":1652916359735},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/cache-loader/dist/cjs.js","mtime":1652435181076},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/babel-loader/lib/index.js","mtime":1652435180918},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/vuetify-loader/lib/loader.js","mtime":1652435186114},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/cache-loader/dist/cjs.js","mtime":1652435181076},{"path":"/Users/herschel/my-new-module/GitGroupWork/ride-share/node_modules/vue-loader/lib/index.js","mtime":1652435186009}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicGFzc2VuZ2VycyIsCgogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgaGVhZGVyczogWwogICAgICAgIHsgdGV4dDogIkZpcnN0IE5hbWUiLCB2YWx1ZTogImZpcnN0X25hbWUiIH0sCiAgICAgICAgeyB0ZXh0OiAiTGFzdCBOYW1lIiwgdmFsdWU6ICJsYXN0X25hbWUiIH0sCiAgICAgICAgeyB0ZXh0OiAiRGF0ZSIsIHZhbHVlOiAiZGF0ZSIgfSwKICAgICAgICB7IHRleHQ6ICJUaW1lIiwgdmFsdWU6ICJ0aW1lIiB9LAogICAgICAgIHsgdGV4dDogIkRpc3RhbmNlIChNaWxlcykiLCB2YWx1ZTogImRpc3RhbmNlIiB9LAogICAgICAgIHsgdGV4dDogIkZyb20gTG9jYXRpb24iLCB2YWx1ZTogIm5hbWUiIH0sCiAgICAgICAgeyB0ZXh0OiAiRnJvbSBBZGRyZXNzIiwgdmFsdWU6ICJhZGRyZXNzIiB9LAogICAgICAgIHsgdGV4dDogIlRvIExvY2F0aW9uIiwgdmFsdWU6ICJ0b05hbWUiIH0sCiAgICAgICAgeyB0ZXh0OiAiVG8gQWRkcmVzcyIsIHZhbHVlOiAidG9BZGRyZXNzIiB9CiAgICAgIF0sCgogICAgICBwYXNzZW5nZXJzOiBbXSwKCiAgICAgIHNuYWNrYmFyOiB7CiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgdGV4dDogIiIKICAgICAgfQogICAgfTsKICB9LAoKICBtb3VudGVkOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuJGF4aW9zLmdldCgiL3Bhc3NlbmdlcnMiKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy5wYXNzZW5nZXJzID0gcmVzcG9uc2UuZGF0YS5tYXAocGFzc2VuZ2VycyA9PiAoewogICAgICAgIGlkOiBwYXNzZW5nZXJzLmlkLAogICAgICAgIGZpcnN0X25hbWU6IHBhc3NlbmdlcnMudXNlcnMuZmlyc3RfbmFtZSwKICAgICAgICBsYXN0X25hbWU6IHBhc3NlbmdlcnMudXNlcnMubGFzdF9uYW1lLAogICAgICAgIGRhdGU6IHBhc3NlbmdlcnMucmlkZXMuZGF0ZSwKICAgICAgICB0aW1lOiBwYXNzZW5nZXJzLnJpZGVzLnRpbWUsCiAgICAgICAgZGlzdGFuY2U6IHBhc3NlbmdlcnMucmlkZXMuZGlzdGFuY2UsCiAgICAgICAgbmFtZTogcGFzc2VuZ2Vycy5yaWRlcy5sb2NhdGlvbnMubmFtZSwKICAgICAgICBhZGRyZXNzOiBwYXNzZW5nZXJzLnJpZGVzLmxvY2F0aW9ucy5hZGRyZXNzLAogICAgICAgIHRvTmFtZTogcGFzc2VuZ2Vycy5yaWRlcy5sb2NhdGlvbnMubmFtZSwKICAgICAgICB0b0FkZHJlc3M6IHBhc3NlbmdlcnMucmlkZXMubG9jYXRpb25zLmFkZHJlc3MKICAgICAgfSkpOwogICAgfSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgLy8gRGlzcGxheSBhIHNuYWNrYmFyIG1lc3NhZ2UuCiAgICBzaG93U25hY2tiYXIodGV4dCkgewogICAgICB0aGlzLnNuYWNrYmFyLnRleHQgPSB0ZXh0OwogICAgICB0aGlzLnNuYWNrYmFyLnNob3cgPSB0cnVlOwogICAgfSwKCiAgICAvLyBDYWxjdWxhdGUgdGhlIENTUyBjbGFzcyBmb3IgYW4gaXRlbQogICAgaXRlbUNsYXNzKGl0ZW0pIHsKICAgICAgY29uc3QgY3VycmVudHBhc3NlbmdlcnMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50cGFzc2VuZ2VyczsKICAgICAgaWYgKGN1cnJlbnRwYXNzZW5nZXJzICYmIGN1cnJlbnRwYXNzZW5nZXJzLmlkID09PSBpdGVtLmlkKSB7CiAgICAgICAgcmV0dXJuICJjdXJyZW50cGFzc2VuZ2VycyI7CiAgICAgIH0KICAgIH0sCgogICAgLy8gVXBkYXRlIGxvY2F0aW9uIGluZm9ybWF0aW9uLgogICAgdXBkYXRlcGFzc2VuZ2VycyhpdGVtKSB7CiAgICAgIGNvbnNvbGUubG9nKCJVUERBVEUiLCBKU09OLnN0cmluZ2lmeShpdGVtLCBudWxsLCAyKSk7CiAgICAgIHRoaXMuc2hvd1NuYWNrYmFyKCJTb3JyeSwgdXBkYXRlIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQuIik7CiAgICB9LAoKICAgIC8vIERlbGV0ZSBhIGxvY2F0aW9uLgogICAgZGVsZXRlcGFzc2VuZ2VycyhpdGVtKSB7CiAgICAgIHRoaXMuJGF4aW9zLmRlbGV0ZShgL3Bhc3NlbmdlcnMvJHtpdGVtLmlkfWApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm9rKSB7CiAgICAgICAgICAvLyBUaGUgZGVsZXRlIG9wZXJhdGlvbiB3b3JrZWQgb24gdGhlIHNlcnZlcjsgZGVsZXRlIHRoZSBsb2NhbCBsb2NhdGlvbgogICAgICAgICAgLy8gYnkgZmlsdGVyaW5nIHRoZSBkZWxldGVkIGxvY2F0aW9uIGZyb20gdGhlIGxpc3Qgb2YgbG9jYXRpb25zLgogICAgICAgICAgdGhpcy5wYXNzZW5nZXJzID0gdGhpcy5wYXNzZW5nZXJzLmZpbHRlcigKICAgICAgICAgICAgcGFzc2VuZ2VycyA9PiBwYXNzZW5nZXJzLmlkICE9PSBpdGVtLmlkCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Passengers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Passengers.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <v-container>\n    <div>\n      <h4 class=\"display-1\">Passengers</h4>\n\n      <v-data-table\n        class=\"elevation-1\"\n        v-bind:headers=\"headers\"\n        v-bind:items=\"passengers\"\n      >\n        <template v-slot:item=\"{ item }\">\n          <tr v-bind:class=\"itemClass(item)\">\n            <td>{{ item.first_name }}</td>\n            <td>{{ item.last_name }}</td>\n            <td>{{ item.date }}</td>\n            <td>{{ item.time }}</td>\n            <td>{{ item.distance }}</td>\n            <td>{{ item.name }}</td>\n            <td>{{ item.address }}</td>\n            <td>{{ item.name }}</td>\n            <td>{{ item.address }}</td>\n            <td>\n              <v-icon small @click=\"deletePassengers(item)\">\n                mdi-delete\n              </v-icon>\n              <v-icon small class=\"ml-2\" @click=\"updatePassengers(item)\">\n                mdi-pencil\n              </v-icon>\n            </td>\n          </tr>\n        </template>\n      </v-data-table>\n\n      <v-snackbar v-model=\"snackbar.show\">\n        {{ snackbar.text }}\n        <v-btn color=\"blue\" text @click=\"snackbar.show = false\">\n          Close\n        </v-btn>\n      </v-snackbar>\n    </div>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: \"passengers\",\n\n  data: function() {\n    return {\n      headers: [\n        { text: \"First Name\", value: \"first_name\" },\n        { text: \"Last Name\", value: \"last_name\" },\n        { text: \"Date\", value: \"date\" },\n        { text: \"Time\", value: \"time\" },\n        { text: \"Distance (Miles)\", value: \"distance\" },\n        { text: \"From Location\", value: \"name\" },\n        { text: \"From Address\", value: \"address\" },\n        { text: \"To Location\", value: \"toName\" },\n        { text: \"To Address\", value: \"toAddress\" }\n      ],\n\n      passengers: [],\n\n      snackbar: {\n        show: false,\n        text: \"\"\n      }\n    };\n  },\n\n  mounted: function() {\n    this.$axios.get(\"/passengers\").then(response => {\n      this.passengers = response.data.map(passengers => ({\n        id: passengers.id,\n        first_name: passengers.users.first_name,\n        last_name: passengers.users.last_name,\n        date: passengers.rides.date,\n        time: passengers.rides.time,\n        distance: passengers.rides.distance,\n        name: passengers.rides.locations.name,\n        address: passengers.rides.locations.address,\n        toName: passengers.rides.locations.name,\n        toAddress: passengers.rides.locations.address\n      }));\n    });\n  },\n\n  methods: {\n    // Display a snackbar message.\n    showSnackbar(text) {\n      this.snackbar.text = text;\n      this.snackbar.show = true;\n    },\n\n    // Calculate the CSS class for an item\n    itemClass(item) {\n      const currentpassengers = this.$store.state.currentpassengers;\n      if (currentpassengers && currentpassengers.id === item.id) {\n        return \"currentpassengers\";\n      }\n    },\n\n    // Update location information.\n    updatepassengers(item) {\n      console.log(\"UPDATE\", JSON.stringify(item, null, 2));\n      this.showSnackbar(\"Sorry, update is not yet implemented.\");\n    },\n\n    // Delete a location.\n    deletepassengers(item) {\n      this.$axios.delete(`/passengers/${item.id}`).then(response => {\n        if (response.data.ok) {\n          // The delete operation worked on the server; delete the local location\n          // by filtering the deleted location from the list of locations.\n          this.passengers = this.passengers.filter(\n            passengers => passengers.id !== item.id\n          );\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style>\n.currentpassengers {\n  background: lightcoral;\n}\n</style>\n"]}]}